(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{WAHi:function(t,n,i){"use strict";i.r(n),i.d(n,"ListPageModule",(function(){return S}));var o=i("ofXK"),c=i("3Pt+"),e=i("TEn/"),r=i("tyNb"),s=i("mrSG"),a=i("7OIR"),b=i("eIep"),u=i("flj8"),p=i("2E/j"),m=i("c3o+"),l=i("fXoL");function f(t,n){1&t&&l.Kb(0,"ion-icon",6)}function h(t,n){1&t&&l.Kb(0,"ion-spinner",7)}function d(t,n){1&t&&l.Kb(0,"ion-icon",8)}function g(t,n){if(1&t&&(l.Mb(0,"ion-item"),l.ic(1),l.Lb()),2&t){const t=n.$implicit,i=l.Wb(2);l.zb(1),l.kc(" ",i.getStrTemplate(t)," ")}}function v(t,n){if(1&t){const t=l.Nb();l.Mb(0,"ion-button",9),l.Ub("click",(function(){l.ec(t);const n=l.Wb().$implicit;return l.Wb().approve(n)})),l.ic(1,"Approve"),l.Lb()}}function y(t,n){if(1&t){const t=l.Nb();l.Mb(0,"ion-button",9),l.Ub("click",(function(){l.ec(t);const n=l.Wb().$implicit;return l.Wb().showSummary(n)})),l.ic(1,"Show"),l.Lb()}}function I(t,n){if(1&t&&(l.Mb(0,"ion-item"),l.hc(1,f,1,0,"ion-icon",1),l.hc(2,h,1,0,"ion-spinner",2),l.hc(3,d,1,0,"ion-icon",3),l.Mb(4,"ion-label"),l.Mb(5,"ion-list",4),l.hc(6,g,2,1,"ion-item",0),l.Lb(),l.Lb(),l.hc(7,v,2,0,"ion-button",5),l.hc(8,y,2,0,"ion-button",5),l.Lb()),2&t){const t=n.$implicit,i=l.Wb();l.zb(1),l.bc("ngIf","need_approval"===t.status),l.zb(1),l.bc("ngIf","pending"===t.status),l.zb(1),l.bc("ngIf","completed"===t.status),l.zb(3),l.bc("ngForOf",t.ops),l.zb(1),l.bc("ngIf","need_approval"===t.status),l.zb(1),l.bc("ngIf","pending"===t.status&&i.hasSummary(t))}}let k=(()=>{class t{constructor(t,n,i){this.account=t,this.operationApprover=n,this.summaryService=i,this.txList$=this.account.currentAccount$.pipe(Object(b.a)(t=>t.operationRequest$))}getStrTemplate(t){return`${t.kind} To: ${t.destination} Amount: ${a.a.format("mutez","tz",t.amount).toString()} tz`}showSummary(t){return Object(s.a)(this,void 0,void 0,(function*(){this.summaryService.call(t.appID,t.tx)}))}hasSummary(t){return this.summaryService.hasSummary(t.appID)}approve(t){return Object(s.a)(this,void 0,void 0,(function*(){yield this.operationApprover.approve(t)}))}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(l.Jb(u.a),l.Jb(p.a),l.Jb(m.a))},t.\u0275cmp=l.Db({type:t,selectors:[["app-list"]],decls:3,vars:3,consts:[[4,"ngFor","ngForOf"],["name","information-circle-outline","slot","start",4,"ngIf"],["slot","start","name","dots",4,"ngIf"],["name","checkmark-circle-outline","slot","start",4,"ngIf"],["lines","none"],[3,"click",4,"ngIf"],["name","information-circle-outline","slot","start"],["slot","start","name","dots"],["name","checkmark-circle-outline","slot","start"],[3,"click"]],template:function(t,n){1&t&&(l.Mb(0,"ion-list"),l.hc(1,I,9,6,"ion-item",0),l.Xb(2,"async"),l.Lb()),2&t&&(l.zb(1),l.bc("ngForOf",l.Yb(2,1,n.txList$)))},directives:[e.k,o.i,e.i,o.j,e.j,e.g,e.p,e.c],pipes:[o.b],styles:[""]}),t})(),S=(()=>{class t{}return t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({factory:function(n){return new(n||t)},imports:[[o.c,c.a,e.u,r.j.forChild([{path:"",component:k}])]]}),t})()}}]);